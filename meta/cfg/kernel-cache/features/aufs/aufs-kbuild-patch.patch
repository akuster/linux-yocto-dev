From 55b0bc236e7b2b20abbcb01fe6f929a127cba381 Mon Sep 17 00:00:00 2001
From: Bruce Ashfield <bruce.ashfield@windriver.com>
Date: Tue, 9 Apr 2013 14:00:38 -0700
Subject: [PATCH 1/5] aufs: kbuild patch

Integrating aufs-kbuild patch from:

   git://aufs.git.sourceforge.net/gitroot/aufs/aufs3-standalone.git

Signed-off-by: Bruce Ashfield <bruce.ashfield@windriver.com>
diff --git a/fs/Kconfig b/fs/Kconfig
index 232a693..056db61 100644
--- a/fs/Kconfig
+++ b/fs/Kconfig
@@ -213,6 +213,7 @@ source "fs/ufs/Kconfig"
 source "fs/exofs/Kconfig"
 source "fs/f2fs/Kconfig"
 source "fs/efivarfs/Kconfig"
+source "fs/aufs/Kconfig"
 
 endif # MISC_FILESYSTEMS
 
diff --git a/fs/Makefile b/fs/Makefile
index 9f8004c..70e1af7 100644
--- a/fs/Makefile
+++ b/fs/Makefile
@@ -126,4 +126,5 @@ obj-y				+= exofs/ # Multiple modules
 obj-$(CONFIG_CEPH_FS)		+= ceph/
 obj-$(CONFIG_PSTORE)		+= pstore/
 obj-$(CONFIG_YAFFS_FS)		+= yaffs2/
+obj-$(CONFIG_AUFS_FS)           += aufs/
 obj-$(CONFIG_EFIVAR_FS)		+= efivarfs/
diff --git a/include/uapi/linux/Kbuild b/include/uapi/linux/Kbuild
index ab5d499..ed438c0 100644
--- a/include/uapi/linux/Kbuild
+++ b/include/uapi/linux/Kbuild
@@ -56,6 +56,7 @@ header-y += atmppp.h
 header-y += atmsap.h
 header-y += atmsvc.h
 header-y += audit.h
+header-y += aufs_type.h
 header-y += auto_fs.h
 header-y += auto_fs4.h
 header-y += auxvec.h
